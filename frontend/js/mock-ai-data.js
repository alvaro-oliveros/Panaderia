// Mock AI insights data for testing without API costs
// This simulates realistic Claude AI responses for bakery business analysis

const MOCK_AI_INSIGHTS = {
    // Main business insights (7-day analysis)
    businessInsights: `**INSIGHTS PRINCIPALES**

• **Rendimiento Sólido**: Las ventas han mostrado un crecimiento constante del 18% en comparación con la semana anterior, con ingresos totales de S/.4,847 en 156 transacciones.

• **Productos Estrella**: Los croissants de chocolate lideran la rentabilidad con márgenes del 65%, seguidos por el pan francés que representa el 34% del volumen total de ventas.

• **Variación por Ubicación**: Panadería Centro supera al resto con S/.2,100 en ventas (43% del total), mientras que Sede Norte muestra potencial de crecimiento con solo S/.890.

• **Patrones Temporales**: Los fines de semana generan 45% más ventas, especialmente entre 8:00-11:00 AM para productos de panadería premium.

**ANÁLISIS DE RENDIMIENTO POR USUARIO**

👤 **Alvaro (Centro/Norte)**: 
• Transacciones: 218 movimientos | Ingresos generados: S/.1,847
• Especialidad: Ventas matutinas (+32% vs promedio)
• Fortaleza: Productos premium - 68% de margen en sus ventas
• Oportunidad: Incrementar reabastecimientos para evitar desabasto

👤 **Miguel (Sur/Residencial)**:
• Transacciones: 189 movimientos | Ingresos generados: S/.1,234  
• Especialidad: Gestión de inventario - 95% precisión en ajustes
• Fortaleza: Productos de volumen - pan básico y bollería
• Oportunidad: Enfoque en productos de mayor margen (+15% potencial)

👤 **Fabiola (Plaza)**:
• Transacciones: 211 movimientos | Ingresos generados: S/.1,687
• Especialidad: Productos estacionales - 78% de efectividad
• Fortaleza: Atención al cliente - mayor ticket promedio (S/.8.10)
• Oportunidad: Replicar estrategias exitosas en otras sedes

**RECOMENDACIONES ESPECÍFICAS**

• **Optimización de Inventario**: Aumentar stock matutino de pan francés en 30% - se agota frecuentemente antes de las 10 AM.

• **Expansión Estratégica**: Considerar promociones específicas en Sede Norte para alcanzar el potencial de Centro.

• **Gestión de Productos Premium**: Los pasteles y tortas muestran baja rotación - evaluar reducir variedad o ajustar precios.

• **Desarrollo del Equipo**: Capacitar a Miguel en venta de productos premium siguiendo el modelo de Alvaro.

• **Horarios Operativos**: Concentrar personal en horarios pico (7-10 AM y 5-7 PM) para maximizar atención al cliente.

**ALERTAS CRÍTICAS**

⚠️ **Stock Crítico**: 12 productos requieren reabastecimiento inmediato, incluyendo ingredientes básicos como harina y azúcar.

⚠️ **Control Ambiental**: Temperatura promedio de 24.2°C está en límite superior - revisar ventilación para preservar calidad.

⚠️ **Productos Lentos**: 8 productos tienen más de 15 días sin movimiento - considerar promociones o descontinuar.

**OPORTUNIDADES DE CRECIMIENTO**

🎯 **Bebidas Calientes**: Solo representan 12% de ventas pero tienen margen del 70% - potencial para incrementar.

🎯 **Productos Estacionales**: Aprovechar fechas especiales con productos temáticos (ej. pan de muerto, roscas).

🎯 **Programa de Fidelidad**: Implementar sistema de puntos para clientes frecuentes que compran más de 3 veces por semana.`,

    // Daily summary
    dailySummary: `**RESUMEN EJECUTIVO DEL DÍA**

**RENDIMIENTO DESTACADO**
✅ Ventas del día: S/.847 en 34 transacciones (+12% vs ayer)
✅ Producto del día: Croissant de Chocolate (28 unidades vendidas)
✅ Mejor sede: Panadería Centro con S/.420 en ventas
✅ Margen promedio: 58% - excelente rentabilidad

**DESEMPEÑO DEL EQUIPO**
🏆 **MVP del Día: Fabiola** - S/.184 en ventas con ticket promedio de S/.8.90
📈 **Alvaro**: 12 transacciones matutinas, enfoque en productos premium
⚡ **Miguel**: 8 reabastecimientos completados, gestión eficiente de inventario
💪 **Colaboración**: Equipo trabajó coordinadamente sin conflictos de stock

**ESTADO OPERATIVO**
🔄 **Actividad Normal**: 34 ventas, 8 reabastecimientos, 2 ajustes de inventario
🏪 **Cobertura Completa**: Las 5 sedes operando con stock adecuado
📊 **Flujo Constante**: Ventas distribuidas equilibradamente durante el día
🌡️ **Condiciones Óptimas**: Temperatura 22.1°C y humedad 58% - ideales para almacenamiento

**PUNTOS DE ATENCIÓN**
⚠️ **Ingredientes Básicos**: Harina alcanzó nivel mínimo - reabastecer mañana
⚠️ **Sede Sur**: Ventas 20% por debajo del promedio - revisar estrategia local
⚠️ **Productos Perecederos**: 6 pasteles con vencimiento en 2 días - considerar descuento

**PREPARACIÓN PARA MAÑANA**
📋 **Prioridades**:
1. Confirmar entrega de harina programada para 8:00 AM
2. Preparar 40% más croissants de chocolate (tendencia al alza)
3. Revisar estrategia promocional para Sede Sur
4. Monitorear temperatura en almacén principal

🎯 **Objetivo del día**: Superar S/.900 en ventas totales (proyección: S/.920 basada en tendencia actual)

**RESUMEN**: Día sólido con crecimiento sostenido. La operación funciona eficientemente con oportunidades claras de optimización identificadas.`,

    // Product-specific analysis (example for croissant)
    productAnalysis: `**ANÁLISIS PROFUNDO: CROISSANT DE CHOCOLATE**

**ANÁLISIS DE VENTAS**
📈 **Tendencia Ascendente**: +35% en ventas durante las últimas 2 semanas
📊 **Velocidad de Rotación**: 4.2 días promedio - excelente para producto premium
💰 **Contribución**: 18% de ingresos totales con solo 8% del inventario
⭐ **Puntuación de Popularidad**: 9.2/10 basada en frecuencia de compra

**GESTIÓN DE INVENTARIO**
✅ **Stock Actual**: 45 unidades - nivel óptimo para demanda proyectada
🔄 **Reposición**: Cada 3 días en promedio, patrón muy predecible
📦 **Costos**: S/.2.10 costo vs S/.5.50 precio = margen 62% (excelente)
⚡ **Recomendación**: Aumentar producción matutina en 25% - se agota frecuentemente

**PRICING INSIGHTS**
💵 **Precio Competitivo**: S/.5.50 está en rango óptimo del mercado local
📊 **Elasticidad**: Ventas estables ante pequeñas variaciones de precio
🎯 **Oportunidad**: Posible aumento a S/.6.00 en horarios premium (8-10 AM)
💡 **Promoción**: Bundle con café puede incrementar ticket promedio 40%

**RECOMENDACIONES ESPECÍFICAS**
🚀 **Maximizar Potencial**: 
- Producir 15 unidades adicionales para horario matutino
- Crear combo croissant + café a S/.12 (vs S/.13.50 separado)
- Posicionar en vitrina principal durante picos de demanda

⚠️ **Riesgos a Monitorear**:
- Dependencia alta de ingredientes premium (chocolate importado)
- Sensible a temperatura - mantener cadena de frío
- Competencia creciente en productos similares

🎯 **Proyección**: Con optimizaciones sugeridas, puede alcanzar 20% de participación en ventas totales.`,

    // User performance analysis
    userPerformanceInsights: `**ANÁLISIS DETALLADO DE RENDIMIENTO POR USUARIO**

**MÉTRICAS GENERALES (ÚLTIMOS 30 DÍAS)**

👤 **ALVARO - Panadería Centro/Norte**
📊 **Estadísticas Clave:**
• Total movimientos: 218 | Ingresos: S/.1,847 | Promedio/día: S/.61.57
• Tipos de transacción: 156 ventas, 42 reabastecimientos, 20 ajustes
• Productos más vendidos: Croissant chocolate (45), Pan francés (38), Café (52)
• Horario pico: 7:30-10:00 AM (67% de sus ventas diarias)

🎯 **Fortalezas Identificadas:**
• Especialista en productos premium - 68% margen promedio
• Excelente gestión matutina - supera objetivos en 32%
• Conocimiento profundo de preferencias de clientes regulares
• Liderazgo natural - mentoriza informalmente a nuevo personal

⚠️ **Áreas de Mejora:**
• Puede aumentar reabastecimientos proactivos (objetivo +15%)
• Oportunidad en horario vespertino (solo 18% de ventas totales)

👤 **MIGUEL - Panadería Sur/Residencial**  
📊 **Estadísticas Clave:**
• Total movimientos: 189 | Ingresos: S/.1,234 | Promedio/día: S/.41.13
• Tipos de transacción: 118 ventas, 38 reabastecimientos, 33 ajustes
• Productos más vendidos: Pan básico (67), Bollería (41), Empanadas (29)
• Horario pico: 2:00-6:00 PM (72% de sus ventas diarias)

🎯 **Fortalezas Identificadas:**
• Maestro del inventario - 95% precisión en ajustes y conteos
• Especialista en productos de volumen y rotación rápida
• Excelente relación con proveedores locales
• Eficiencia operativa - completa tareas 20% más rápido que promedio

⚠️ **Áreas de Mejora:**
• Oportunidad en venta de productos premium (+15% de margen)
• Puede desarrollar técnicas de upselling con clientes habituales

👤 **FABIOLA - Panadería Plaza**
📊 **Estadísticas Clave:**
• Total movimientos: 211 | Ingresos: S/.1,687 | Promedio/día: S/.56.23
• Tipos de transacción: 164 ventas, 28 reabastecimientos, 19 ajustes
• Productos más vendidos: Pasteles (31), Café premium (48), Postres (35)
• Horario pico: 10:00 AM-2:00 PM y 4:00-7:00 PM (distribución equilibrada)

🎯 **Fortalezas Identificadas:**
• Reina del servicio al cliente - ticket promedio más alto (S/.8.10)
• Innovadora en productos estacionales - 78% de éxito en nuevos items
• Excelente gestión de productos perecederos - 94% aprovechamiento
• Habilidad natural para identificar oportunidades de venta cruzada

⚠️ **Áreas de Mejora:**
• Puede aumentar frecuencia de reabastecimientos (objetivo: +25%)
• Su expertise podría replicarse en otras sedes mediante capacitación

**ANÁLISIS COMPARATIVO**
🏆 **Mejor Margen**: Alvaro (68%) - Especialista en premium
📈 **Mayor Volumen**: Miguel (189 transacciones) - Eficiencia operativa  
💰 **Mayor Ticket**: Fabiola (S/.8.10 promedio) - Servicio excepcional

**RECOMENDACIONES ESTRATÉGICAS**
🎯 **Desarrollo Cruzado**: Que Alvaro capacite a Miguel en productos premium
🎯 **Replicación de Buenas Prácticas**: Fabiola puede enseñar técnicas de upselling
🎯 **Optimización de Horarios**: Ajustar turnos según fortalezas naturales de cada uno
🎯 **Programa de Incentivos**: Reconocer especialidades únicas de cada miembro del equipo

**PROYECCIÓN DE CRECIMIENTO**
Con las optimizaciones sugeridas, el equipo puede incrementar:
• Ingresos totales: +18% (de S/.4,768 a S/.5,626 mensuales)
• Margen promedio: +8% (aplicando expertise de Alvaro)  
• Satisfacción del cliente: +15% (replicando modelo de Fabiola)`,

    // Environmental/operations insights
    environmentalInsights: `**ANÁLISIS DE CONDICIONES OPERATIVAS**

**ESTADO DE SENSORES**
🌡️ **Temperatura**: Promedio 22.8°C (Rango óptimo: 18-24°C)
- Almacén Principal: 21.2°C ✅ Excelente
- Área de Producción: 24.1°C ⚠️ Límite superior
- Cámara Fría: 4.3°C ✅ Perfecta

💧 **Humedad**: Promedio 61% (Rango óptimo: 45-65%)
- Zona Panadería: 58% ✅ Ideal para masa
- Almacén: 64% ⚠️ Vigilar posible condensación
- Área Ventas: 55% ✅ Confort perfecto

**IMPACTO EN PRODUCTOS**
🥖 **Pan y Masa**: Condiciones actuales favorecen fermentación óptima
🧁 **Productos Cremosos**: Temperatura estable preserva calidad
🍰 **Decoraciones**: Humedad controlada evita derretimiento
📦 **Ingredientes Secos**: Almacenamiento en condiciones ideales

**ALERTAS PREVENTIVAS**
⚠️ **Área Producción**: Temperatura en límite - revisar ventilación
⚠️ **Predicción Climática**: Ola de calor próxima - preparar medidas
✅ **Sistemas Funcionando**: Todos los sensores reportan correctamente

**RECOMENDACIONES OPERATIVAS**
🔧 Instalar ventilador adicional en área de producción
📊 Configurar alertas automáticas si temperatura > 25°C
🌡️ Monitoreo cada 2 horas durante días calurosos`
};

// Mock data generator that uses real business data patterns
function generateMockInsights(type = 'business', context = {}) {
    switch (type) {
        case 'business':
        case 'business-insights':
            return MOCK_AI_INSIGHTS.businessInsights;
            
        case 'daily':
        case 'daily-summary':
            return MOCK_AI_INSIGHTS.dailySummary;
            
        case 'product':
        case 'product-analysis':
            return MOCK_AI_INSIGHTS.productAnalysis;
            
        case 'user':
        case 'user-performance':
        case 'team-performance':
            return MOCK_AI_INSIGHTS.userPerformanceInsights;
            
        case 'environmental':
        case 'environment':
            return MOCK_AI_INSIGHTS.environmentalInsights;
            
        default:
            return MOCK_AI_INSIGHTS.businessInsights;
    }
}

// Simulate API response structure
function createMockAPIResponse(insights, businessData = {}) {
    return {
        success: true,
        ai_insights: insights,
        data: businessData,
        generated_at: new Date().toISOString(),
        mode: 'mock' // Indicator for development
    };
}

// Export for use in analytics dashboard
if (typeof window !== 'undefined') {
    window.mockAIData = {
        generateMockInsights,
        createMockAPIResponse,
        MOCK_AI_INSIGHTS
    };
}